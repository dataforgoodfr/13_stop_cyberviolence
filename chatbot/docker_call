#!/bin/bash

docker run -it --rm \
    -p 127.0.0.1:8000:8000 \
    -e OPENROUTER_API_KEY=$OPENROUTER_API_KEY \
    -e AZURE_OPENAI_API_KEY=$AZURE_OPENAI_API_KEY \
    -e SERVICE1_PROVIDER=gemini \
    -e LANGFUSE_AZURE_SECRET_KEY=$LANGFUSE_AZURE_SECRET_KEY \
    -e LANGFUSE_AZURE_PUBLIC_KEY=$LANGFUSE_AZURE_PUBLIC_KEY \
    -e LANGFUSE_GEMINI_SECRET_KEY=$LANGFUSE_GEMINI_SECRET_KEY \
    -e LANGFUSE_GEMINI_PUBLIC_KEY=$LANGFUSE_GEMINI_PUBLIC_KEY \
    -e GOOGLE_API_KEY="$GOOGLE_API_KEY" \
    -e GOOGLE_PROJECT_ID="$GOOGLE_PROJECT_ID" \
    -e GOOGLE_PRIVATE_KEY="$GOOGLE_PRIVATE_KEY" \
    -e GOOGLE_CLIENT_EMAIL="$GOOGLE_CLIENT_EMAIL" \
    -e GOOGLE_BUCKET_NAME="$GOOGLE_BUCKET_NAME" \
    -v $(pwd):/app \
    kantundpeterpan/chainlit_uv:dev chainlit run -w app/chainlit_app.py --host 0.0.0.0 --port 8000